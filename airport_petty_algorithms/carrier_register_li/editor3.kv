#:kivy 2.1.0

Root:
    # text_input: text_input

    # BoxLayout:
    #     orientation: 'vertical'
    #     BoxLayout:
    #         size_hint_y: None
    #         height: 30
    #         Button:
    #             text: 'Load'
    #             on_release: root.show_load()
    #         Button:
    #             text: 'Save'
    #             on_release: root.show_save()

    #     BoxLayout:
    #         TextInput:
    #             id: text_input
    #             text: ''

    #         RstDocument:
    #             text: text_input.text
    #             show_errors: True

    # BoxLayout:
    #     orientation: 'vertical'
    #     Button:
    #         text: 'Proceed'
    #         on_press: file_widget.select(file_chooser.selection)
    #         # on_press: root.show_load()
    #     TextInput:
    #         text: 'Write Your Name'
    #     TextInput:
    #         text: 'Write Your Last Name'  
    #     TextInput:
    #         text: 'Write Your Phone Number'

    ##################################################################
    
    id: file_widget
    BoxLayout:
        orientation: "vertical"
        size: 800, 600
        padding: 5
        spacing: 10
        
        canvas.before:
            Color:
                rgba: (83/255, 83/255, 83/255, 1)
            Rectangle:
                size: self.size

        # Image:
        #     id: my_image
        #     source: ""

        RstDocument:
            id: my_file
            _source: ""
            # font_size: 35
            # text_size: cm(6), cm(4)
            text: my_file._source
            # text: str(''.join(list(file_chooser.selection)))
            text_size: 50
            show_errors: True
            
        FileChooserListView:
            id: file_chooser
            on_selection: root.select(file_chooser.selection)
            # background_color: 0, 0, 0, 1
            # padding: 10
            # spacing: 10
            size: (600, 600)

            # Label:
            #     color: (0, 1, 0, 1)
        MDRaisedButton:
            id: my_button
            text: "Select File"
            # on_release:
            #     print('This is file_chooser')
            #     file_widget.select(file_chooser.selection)
            on_press:
                # print('This is file_chooser')
                # root.get_file(file_chooser.selection)
                # print(file_chooser.selection)
                root.show_save()
                # root.show_load()

###########################################################################


<LoadDialog>:
    
    BoxLayout:
        orientation: "vertical"
        size: 800, 600
        padding: 5
        spacing: 10
        
        canvas.before:
            Color:
                rgba: (83/255, 83/255, 83/255, 1)
            Rectangle:
                size: self.size

        # Image:
        #     id: my_image
        #     source: ""

        RstDocument:
            id: my_file
            _source: ""
            # font_size: 35
            # text_size: cm(6), cm(4)
            text: my_file._source
            # text: str(''.join(list(file_chooser.selection)))
            text_size: 50
            show_errors: True
            
        FileChooserListView:
            id: file_chooser
            on_selection: root.select(file_chooser.selection)
            # background_color: 0, 0, 0, 1
            # padding: 10
            # spacing: 10
            size: (600, 600)

            # Label:
            #     color: (0, 1, 0, 1)
        MDRaisedButton:
            id: my_button
            text: "Select File"
            # on_release:
            #     print('This is file_chooser')
            #     file_widget.select(file_chooser.selection)
            on_press:
                # print('This is file_chooser')
                # root.get_file(file_chooser.selection)
                # print(file_chooser.selection)
                root.show_save()
                # root.show_load()

# <SaveDialog>:
#     text_input: text_input
#     BoxLayout:
#         size: root.size
#         pos: root.pos
#         orientation: "vertical"
#         FileChooserListView:
#             id: filechooser
#             on_selection: text_input.text = self.selection and self.selection[0] or ''

#         TextInput:
#             id: text_input
#             size_hint_y: None
#             height: 30
#             multiline: False

#         BoxLayout:
#             size_hint_y: None
#             height: 30
#             Button:
#                 text: "Cancel"
#                 on_release: root.cancel()

#             Button:
#                 text: "Save"
#                 on_release: root.save(filechooser.path, text_input.text)